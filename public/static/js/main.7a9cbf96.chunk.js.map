{"version":3,"sources":["styles/theme.js","styles/components/AppStyles.js","context/ToastContext.js","styles/components/NavBarStyles.js","images/logo.png","util/fetchData.js","hooks/useSession.js","constants/routes.js","constants/stations.js","hooks/useAuth.js","components/NavMenu.js","components/StationMenu.js","styles/components/CurrStationStyles.js","components/CurrStation.js","components/NavBar.js","components/AuthWrapper.js","components/Toast.js","routes/NotFound.js","routes/Home.js","routes/Admin.js","styles/views/LoginStyles.js","validations/locale.js","components/Input.js","routes/Login.js","routes/SignUp.js","components/App.js","index.js"],"names":["colors","theme","createMuiTheme","palette","background","default","primary","main","secondary","contrastText","props","MuiButton","variant","disableRipple","MuiPaper","square","elevation","MuiAlert","MuiAppBar","color","overrides","MuiButtonBase","root","borderRadius","textTransform","MuiTouchRipple","child","backgroundColor","useStyles","makeStyles","display","flexDirection","justifyContent","alignItems","height","textDecoration","context","React","createContext","ToastContextProvider","children","initialState","message","severity","useImmer","toast","updateToast","contextValue","addError","err","draft","addMessage","msg","sev","removeToast","Provider","value","useToastContext","useContext","navButton","width","headers","prefixRoute","route","process","NODE_ENV","REACT_APP_PORT","isDev","slash","server","getData","a","url","fetch","res","json","response","ok","Error","postData","data","method","body","JSON","stringify","updateData","deleteData","getSession","payload","useSession","useQuery","retry","routes","label","href","access","stations","num","station","name","region","useAuth","status","error","isFetching","authObject","isLoading","isError","authedRoutes","userStatus","authenticated","item","push","length","authRoutes","authedStations","userStation","extstat","userRegion","extstatArray","element","isPushed","pushStation","stationObject","number","split","extraStation","parseInt","authStations","username","currentStation","isLoggedIn","NavMenu","mobile","useState","anchorEl","setAnchorEl","noLogout","setNoLogout","queryClient","useQueryClient","handleClose","handleLogout","invalidateQueries","navigate","Box","ml","IconButton","edge","aria-label","aria-haspopup","onClick","event","currentTarget","Menu","id","keepMounted","open","Boolean","onClose","map","MenuItem","handleNavigation","disabled","StationMenu","noMenu","setNoMenu","handleSelection","position","bottom","left","fontSize","CurrStation","classes","className","NavBar","auth","hasStations","showNavButtons","AppBar","Toolbar","pt","to","src","logo","alt","Button","component","Link","AuthWrapper","useEffect","CircularProgress","size","noThrow","Toast","reason","textAlign","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","NotFound","isApiRoute","useLocation","pathname","substring","Paper","m","p","Home","Admin","loginInput","minWidth","actionBox","index","mixed","required","oneOf","notOneOf","string","min","max","matches","email","trim","lowercase","uppercase","lessThan","moreThan","notEqual","positive","negative","integer","date","object","noUnknown","array","boolean","Input","noComplete","formik","rest","type","complete","autoComplete","TextField","values","onChange","handleChange","touched","errors","helperText","inputProps","Yup","yupLocale","Login","mutation","useMutation","onError","onSuccess","replace","useFormik","initialValues","password","validationSchema","onSubmit","setSubmitting","mutate","px","py","clone","handleSubmit","Grid","container","direction","justify","spacing","mt","SignUp","formValues","repeat_password","noValidate","float","App","setMobile","setResponsiveness","window","innerWidth","addEventListener","path","QueryClient","ReactDOM","render","QueryClientProvider","client","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.7a9cbf96.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\n\nexport const colors = {\n  white: '#ffffff',\n  offwhite: '#f6f5f4',\n  bluewhite: '#f2faff',\n  black: '#000000',\n  blackish: '#4a4c51',\n  brand: '#feed01',\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      default: colors.offwhite,\n    },\n    primary: {\n      main: colors.blackish,\n    },\n    secondary: {\n      main: colors.brand,\n      contrastText: colors.blackish,\n    },\n  },\n});\n\ntheme.props = {\n  MuiButton: {\n    variant: 'outlined',\n    disableRipple: true,\n  },\n  MuiPaper: {\n    square: true,\n    elevation: 1,\n  },\n  MuiAlert: {\n    variant: 'outlined',\n  },\n  MuiAppBar: {\n    color: 'transparent',\n    elevation: 0,\n  },\n};\n\ntheme.overrides = {\n  MuiButtonBase: {\n    root: {\n      borderRadius: 0,\n      textTransform: 'none',\n    },\n  },\n  MuiTouchRipple: {\n    child: {\n      backgroundColor: colors.bluewhite,\n    },\n  },\n};\n\nexport default theme;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    '& a': {\n      textDecoration: 'none',\n    },\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default useStyles;\n","import React, { useContext } from 'react';\nimport { useImmer } from 'use-immer';\n\nconst context = React.createContext();\n\nconst useToastContext = () => useContext(context);\n\nexport const ToastContextProvider = ({ children }) => {\n  const initialState = {\n    message: null,\n    severity: 'info',\n  };\n\n  const [toast, updateToast] = useImmer(initialState);\n\n  const addError = (err) => {\n    updateToast((draft) => {\n      draft.message = err.message;\n      draft.severity = 'error';\n    });\n  };\n\n  const addMessage = (msg, sev) => {\n    updateToast((draft) => {\n      draft.message = msg;\n      draft.severity = sev;\n    });\n  };\n\n  const removeToast = (toast) => {\n    updateToast((draft) => {\n      draft.message = initialState.message;\n      draft.severity = initialState.severity;\n    });\n  };\n\n  const contextValue = { toast, addError, addMessage, removeToast };\n\n  return <context.Provider value={contextValue}>{children}</context.Provider>;\n};\n\nexport default useToastContext;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  navButton: {\n    width: 96,\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default useStyles;\n","export default __webpack_public_path__ + \"static/media/logo.9c568c9b.png\";","const headers = {\n  'Content-Type': 'application/json',\n};\n\nconst prefixRoute = (route) => {\n  const { NODE_ENV, REACT_APP_PORT } = process.env;\n  const isDev = NODE_ENV === 'development';\n  const slash = route[0] === '/' ? '' : '/';\n  const server = isDev\n    ? `http://localhost:${REACT_APP_PORT}`\n    : `https://192.168.100.39:${REACT_APP_PORT}`;\n\n  return `${server}${slash}${route}`;\n};\n\nexport const getData = async (route) => {\n  const url = prefixRoute(route);\n  const res = await fetch(url);\n\n  const response = await res.json();\n  if (!res.ok) throw new Error(response.msg);\n\n  return response;\n};\n\nexport const postData = async (route, data = {}) => {\n  const url = prefixRoute(route);\n  const res = await fetch(url, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(data),\n  });\n\n  const response = await res.json();\n  if (!res.ok) throw new Error(response.msg);\n\n  return response;\n};\n\nexport const updateData = async (route, data = {}) => {\n  const url = prefixRoute(route);\n  const res = await fetch(url, {\n    method: 'PUT',\n    headers,\n    body: JSON.stringify(data),\n  });\n\n  const response = await res.json();\n  if (!res.ok) throw new Error(response.msg);\n\n  return response;\n};\n\nexport const deleteData = async (route, data = {}) => {\n  const url = prefixRoute(route);\n  const res = await fetch(url, {\n    method: 'DELETE',\n    headers,\n    body: JSON.stringify(data),\n  });\n\n  const response = await res.json();\n  if (!res.ok) throw new Error(response.msg);\n\n  return response;\n};\n","import { useQuery } from 'react-query';\nimport { getData } from '../util/fetchData';\n\nconst getSession = async () => {\n  const data = await getData('/api/session');\n  return data.payload;\n};\n\nfunction useSession() {\n  const query = useQuery('session', getSession, {\n    retry: false,\n    // refetchInterval: 300000,\n  });\n  return query;\n}\n\nexport default useSession;\n","/*\n * 1 = admin\n * 2 = lohnkanzlei\n * 3 = gebietsleiter\n * 4 = stationsleiter\n * 5 = counter\n */\n\nconst routes = [\n  {\n    label: 'Home',\n    route: {\n      href: '/',\n      access: [1, 2, 3, 4, 5],\n    },\n  },\n  {\n    label: 'Admin',\n    route: {\n      href: '/admin',\n      access: [1],\n    },\n  },\n  {\n    label: 'Reporte',\n    route: {\n      href: '/reports',\n      access: [1, 2],\n    },\n  },\n  {\n    label: 'Region',\n    route: {\n      href: '/region',\n      access: [1, 3],\n    },\n  },\n  {\n    label: 'Station',\n    route: {\n      href: '/station',\n      access: [1, 2, 3, 4],\n    },\n  },\n];\n\nexport default routes;\n","/*\n * 1 = alle\n * 2 = nord\n * 3 = berlin\n * 4 = mitte\n * 5 = hamburg\n * 6 = süd\n */\n\nconst stations = [\n  {\n    num: 10,\n    station: {\n      name: 'Hamburg-Jenfeld',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 11,\n    station: {\n      name: 'Hamburg-Eppendorf',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 12,\n    station: {\n      name: 'Hamburg-Eiffestraße',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 13,\n    station: {\n      name: 'Hamburg-Heimfeld',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 14,\n    station: {\n      name: 'Hamburg-Billstedt',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 15,\n    station: {\n      name: 'Hamburg-Altona',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 18,\n    station: {\n      name: 'Hamburg-Osdorf',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 19,\n    station: {\n      name: 'Hamburg-Wandsbek',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 20,\n    station: {\n      name: 'Berlin-Tiergarten',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 21,\n    station: {\n      name: 'Berlin-Neukölln',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 22,\n    station: {\n      name: 'Berlin-Pankow',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 23,\n    station: {\n      name: 'Berlin-Rudow',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 24,\n    station: {\n      name: 'Berlin-Spandau',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 26,\n    station: {\n      name: 'Berlin-Spandau MB',\n      region: [1, 3],\n    },\n  },\n  {\n    num: 30,\n    station: {\n      name: 'Hannover',\n      region: [1, 2],\n    },\n  },\n  {\n    num: 32,\n    station: {\n      name: 'Bremen',\n      region: [1, 2],\n    },\n  },\n  {\n    num: 33,\n    station: {\n      name: 'Hannover-Döhren',\n      region: [1, 2],\n    },\n  },\n  {\n    num: 36,\n    station: {\n      name: 'Braunschweig',\n      region: [1, 2],\n    },\n  },\n  {\n    num: 40,\n    station: {\n      name: 'Köln-Sülz',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 41,\n    station: {\n      name: 'Köln-Renault',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 43,\n    station: {\n      name: 'Köln St. Augustin',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 45,\n    station: {\n      name: 'Köln-Ehrenfeld',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 46,\n    station: {\n      name: 'Köln-Porz',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 47,\n    station: {\n      name: 'Köln-Dellbrück',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 50,\n    station: {\n      name: 'Essen',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 52,\n    station: {\n      name: 'Düsseldorf',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 53,\n    station: {\n      name: 'Duisburg',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 54,\n    station: {\n      name: 'Dortmund',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 55,\n    station: {\n      name: 'Frankfurt-Ostend',\n      region: [1, 4],\n    },\n  },\n  {\n    num: 60,\n    station: {\n      name: 'Kiel',\n      region: [1, 2],\n    },\n  },\n  {\n    num: 63,\n    station: {\n      name: 'München',\n      region: [1, 6],\n    },\n  },\n  {\n    num: 70,\n    station: {\n      name: 'Verwaltung',\n      region: [1],\n    },\n  },\n  {\n    num: 113,\n    station: {\n      name: 'Hamburg-Harburg',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 114,\n    station: {\n      name: 'Hamburg-Langenhorn',\n      region: [1, 2, 5],\n    },\n  },\n  {\n    num: 130,\n    station: {\n      name: 'Nürnberg',\n      region: [1, 6],\n    },\n  },\n];\n\nexport default stations;\n","import useSession from './useSession';\nimport routes from '../constants/routes';\nimport stations from '../constants/stations';\n\nconst authRoutes = (userStatus) => {\n  const authenticated = [];\n  for (let item of routes) {\n    for (let access of item.route.access) {\n      if (access === userStatus) authenticated.push(item);\n    }\n  }\n  const onlyHome = authenticated.length === 1;\n  return onlyHome ? null : authenticated;\n};\n\nconst authStations = (userStation, extstat, userRegion) => {\n  const authenticated = [];\n  let extstatArray = [];\n\n  for (const element of stations) {\n    // bei jeder iteration soll nur 1 mal gepushed werden\n    element.isPushed = false;\n    // func pushStation hier für isPushed side effect\n    const pushStation = () => {\n      if (element.isPushed !== true) {\n        // nur nummer und name returnen\n        const stationObject = {\n          number: element.num,\n          name: element.station.name,\n        };\n        authenticated.push(stationObject);\n        element.isPushed = true;\n      }\n    };\n\n    if (element.num === userStation) pushStation();\n    // extstat in der db ist zb \"11,12,15\"\n    // diesen string parsen -> array\n    if (typeof extstat === 'string') {\n      extstatArray = extstat.split(',');\n      for (let extraStation of extstatArray) {\n        if (parseInt(extraStation) === element.num) pushStation();\n      }\n    }\n\n    for (let stationRegion of element.station.region) {\n      if (stationRegion === userRegion) pushStation();\n    }\n  }\n  return authenticated;\n};\n\nconst useAuth = () => {\n  const { status, error, data, isFetching } = useSession();\n  const authObject = {\n    isLoading: false,\n    isError: false,\n  };\n\n  // status === loading ist manchmal false trotz isFetching true, deshalb beide\n  if (status === 'loading' || isFetching)\n    return { ...authObject, isLoading: true };\n\n  if (status === 'success') {\n    const authedRoutes = authRoutes(data.access);\n    const authedStations = authStations(\n      data.station,\n      data.extstat,\n      data.region\n    );\n\n    // return userdaten\n    return {\n      ...authObject,\n      username: data.username,\n      station: data.currentStation,\n      isLoggedIn: data.isLoggedIn,\n      routes: authedRoutes,\n      stations: authedStations,\n    };\n  }\n\n  // default case (error)\n  return { ...authObject, error, isError: true };\n};\n\nexport default useAuth;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useQueryClient } from 'react-query';\nimport { navigate } from '@reach/router';\nimport { Box, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { FiMenu } from 'react-icons/fi';\nimport { IoPersonCircleOutline } from 'react-icons/io5';\nimport { deleteData } from '../util/fetchData';\nimport useToastContext from '../context/ToastContext';\n\n// NavMenu ist ein User Menu für logout etc wenn desktop\n\nfunction NavMenu({ routes, mobile }) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [noLogout, setNoLogout] = useState(false);\n\n  const { addError } = useToastContext();\n\n  const queryClient = useQueryClient();\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleNavigation = (route) => {\n    handleClose();\n    navigate(route.href);\n  };\n\n  const handleLogout = async () => {\n    setNoLogout(true);\n    setAnchorEl(null);\n    try {\n      const isLoggedOut = await deleteData('api/session');\n      // erst wenn logout erfolgreich war\n      if (isLoggedOut) {\n        queryClient.invalidateQueries('session');\n        navigate('/');\n      }\n    } catch (err) {\n      addError(err);\n    }\n  };\n\n  return (\n    <div>\n      <Box ml={2}>\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label=\"nav-menu\"\n          aria-haspopup={true}\n          onClick={handleClick}\n        >\n          {mobile ? <FiMenu /> : <IoPersonCircleOutline />}\n        </IconButton>\n      </Box>\n\n      <Menu\n        id=\"nav-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        elevation={1}\n      >\n        {mobile &&\n          routes.length > 0 &&\n          routes.map(({ label, route }) => {\n            return (\n              <MenuItem\n                key={label}\n                onClick={() => {\n                  handleNavigation(route);\n                }}\n              >\n                {label}\n              </MenuItem>\n            );\n          })}\n        <MenuItem onClick={handleClose}>Mein Account</MenuItem>\n        <MenuItem disabled={noLogout} onClick={handleLogout}>\n          Abmelden\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n}\n\nNavMenu.propTypes = {\n  routes: PropTypes.array,\n  mobile: PropTypes.bool,\n};\n\nexport default NavMenu;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Box, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { IoMapOutline } from 'react-icons/io5';\nimport { updateData } from '../util/fetchData';\nimport { useQueryClient } from 'react-query';\nimport useToastContext from '../context/ToastContext';\n\nfunction StationMenu({ stations }) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [noMenu, setNoMenu] = useState(false);\n  const { addError } = useToastContext();\n\n  const queryClient = useQueryClient();\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSelection = async (num) => {\n    try {\n      setNoMenu(true);\n      setAnchorEl(null);\n      const isUpdated = await updateData('api/session', {\n        station: num,\n      });\n      // erst wenn update erfolgreich war\n      if (isUpdated) queryClient.invalidateQueries('session');\n    } catch (err) {\n      addError(err);\n    }\n  };\n\n  return !stations.length > 0 ? null : (\n    <div>\n      <Box ml={2}>\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label=\"stat-menu\"\n          aria-haspopup={true}\n          onClick={noMenu ? null : handleClick}\n        >\n          <IoMapOutline />\n        </IconButton>\n      </Box>\n\n      <Menu\n        id=\"stat-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        elevation={1}\n      >\n        {stations.map(({ number, name }) => {\n          return (\n            <MenuItem\n              key={number}\n              onClick={() => {\n                handleSelection(number);\n              }}\n            >\n              {name}\n            </MenuItem>\n          );\n        })}\n      </Menu>\n    </div>\n  );\n}\n\nStationMenu.propTypes = {\n  stations: PropTypes.array,\n};\n\nexport default StationMenu;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  root: {\n    position: 'absolute',\n    bottom: 10,\n    left: 10,\n    fontSize: '1rem',\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default useStyles;\n","import PropTypes from 'prop-types';\nimport useStyles from '../styles/components/CurrStationStyles';\n\nfunction CurrStation({ station }) {\n  const classes = useStyles();\n\n  return <div className={classes.root}>Station: {station}</div>;\n}\n\nCurrStation.propTypes = { station: PropTypes.number };\n\nexport default CurrStation;\n","import PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { AppBar, Box, Button, Toolbar } from '@material-ui/core';\nimport useStyles from '../styles/components/NavBarStyles';\nimport logo from '../images/logo.png';\nimport useAuth from '../hooks/useAuth';\nimport NavMenu from './NavMenu';\nimport StationMenu from './StationMenu';\nimport CurrStation from './CurrStation';\n\nfunction NavBar({ mobile }) {\n  const classes = useStyles();\n  const auth = useAuth();\n\n  const isLoggedIn = auth?.isLoggedIn === true; // nur true wenn status != loading\n  const hasStations = auth?.stations?.length > 1;\n  const showNavButtons = !mobile && isLoggedIn && hasStations; // nur desktop, daten geladen & nicht leer\n\n  return (\n    <>\n      <AppBar>\n        <Toolbar>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            width=\"100%\"\n            pt={2}\n          >\n            <Link to=\"/\">\n              <img src={logo} alt=\"logo\" height=\"45px\" />\n            </Link>\n            <Box display=\"flex\">\n              {showNavButtons &&\n                auth.routes.map(({ label, route }) => {\n                  return (\n                    <Button\n                      className={classes.navButton}\n                      key={label}\n                      color=\"inherit\"\n                      variant=\"text\"\n                      to={route.href}\n                      component={Link}\n                    >\n                      {label}\n                    </Button>\n                  );\n                })}\n              {isLoggedIn && (\n                <>\n                  {hasStations && <StationMenu stations={auth.stations} />}\n                  <NavMenu routes={auth.routes} mobile={mobile} />\n                </>\n              )}\n            </Box>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      {hasStations && <CurrStation station={auth.station} />}\n    </>\n  );\n}\n\nNavBar.propTypes = { mobile: PropTypes.bool };\n\nexport default NavBar;\n","import { useEffect } from 'react';\nimport { Redirect } from '@reach/router';\nimport { CircularProgress } from '@material-ui/core';\nimport useToastContext from '../context/ToastContext';\nimport useAuth from '../hooks/useAuth';\n\nfunction AuthWrapper({ children }) {\n  const { error, isError, isLoading, isLoggedIn } = useAuth();\n  const { addError } = useToastContext();\n\n  useEffect(() => {\n    if (isError) addError(error);\n  });\n\n  if (isLoading) return <CircularProgress size={70} />;\n  if (isError) {\n    // todo timeout ist hacky lösung für fehler\n    // Cannot update a component (`ToastContextProvider`) while rendering a different component (`AuthWrapper`).\n    return <Redirect to=\"/login\" noThrow />;\n  }\n\n  return isLoggedIn === true ? children : <Redirect to=\"/login\" noThrow />;\n}\n\nexport default AuthWrapper;\n","import { Box, Snackbar } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport useToastContext from '../context/ToastContext';\n\nfunction Toast({ mobile }) {\n  const { toast, removeToast } = useToastContext();\n\n  const handleClose = (event, reason) => {\n    // bei klick außerhalb soll toast bleiben\n    if (reason === 'clickaway') return;\n    // bei autohide oder klick auf x\n    removeToast();\n  };\n\n  return (\n    // bool toast.message = false verhindert fade out\n    // vor dem fade out wird toast auf null zurückgesetzt\n    // dann braucht die severity einen default und ändert kurz die farbe\n    !!toast.message && (\n      <Box textAlign=\"center\">\n        <Snackbar\n          anchorOrigin={{\n            vertical: mobile ? 'bottom' : 'top',\n            horizontal: 'center',\n          }}\n          open={!!toast.message}\n          autoHideDuration={5000}\n          onClose={handleClose}\n        >\n          <Alert onClose={handleClose} severity={toast.severity}>\n            {toast.message}\n          </Alert>\n        </Snackbar>\n      </Box>\n    )\n  );\n}\n\nexport default Toast;\n","import PropTypes from 'prop-types';\nimport { Box, Paper } from '@material-ui/core';\nimport { useLocation } from '@reach/router';\n\nfunction NotFound() {\n  const { pathname } = useLocation();\n  const isApiRoute = pathname.substring(0, 4) === '/api';\n  return (\n    <Paper>\n      <Box m={2} p={8} textAlign=\"center\">\n        {isApiRoute ? (\n          <>\n            <h1>Kein Zugriff</h1>\n            <Box fontSize=\"90px\">🔒</Box>\n          </>\n        ) : (\n          <>\n            <h1>Seite nicht gefunden</h1>\n            <Box fontSize=\"90px\">🔎</Box>\n          </>\n        )}\n      </Box>\n    </Paper>\n  );\n}\n\nNotFound.propTypes = { restricted: PropTypes.bool };\n\nexport default NotFound;\n","function Home() {\n  return (\n    <div>\n      <h1>Home</h1>\n    </div>\n  );\n}\n\nexport default Home;\n\n// <Home path=\"/\"> {children} </Home> ?\n","function Admin() {\n  return <h1>Admin</h1>;\n}\n\nexport default Admin;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  loginInput: {\n    minWidth: 280,\n  },\n  actionBox: {\n    minWidth: 280,\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default useStyles;\n","/* eslint-disable no-template-curly-in-string */\n\nexport const mixed = {\n  default: '${path} ist ungültig',\n  required: 'Pflichtfeld',\n  oneOf: '${path} muss einem der folgenden Werte entsprechen: ${values}',\n  notOneOf: '${path} darf keinem der folgenden Werte entsprechen: ${values}',\n};\n\nexport const string = {\n  length: '${path} muss genau ${length} Zeichen lang sein',\n  min: '${path} muss mindestens ${min} Zeichen lang sein',\n  max: '${path} darf höchstens ${max} Zeichen lang sein',\n  matches: '${path} muss wie folgt aussehen: \"${regex}\"',\n  email: '${path} muss eine gültige E-Mail-Adresse enthalten',\n  url: '${path} muss eine gültige URL sein',\n  trim: '${path} darf keine Leerzeichen am Anfang oder Ende enthalten',\n  lowercase: '${path} darf nur Kleinschreibung enthalten',\n  uppercase: '${path} darf nur Großschreibung enthalten',\n};\n\nexport const number = {\n  min: '${path} muss größer oder gleich ${min} sein',\n  max: '${path} muss kleiner oder gleich ${max} sein',\n  lessThan: '${path} muss kleiner sein als ${less}',\n  moreThan: '${path} muss größer sein als ${more}',\n  notEqual: '${path} darf nicht gleich sein mit \"${notEqual}\"',\n  positive: '${path} muss eine positive Zahl sein',\n  negative: '${path} muss eine negative Zahl sein',\n  integer: '${path} muss eine ganze Zahl sein',\n};\n\nexport const date = {\n  min: '${path} muss später sein als ${min}',\n  max: '${path} muss früher sein als ${max}',\n};\n\nexport const boolean = {};\n\nexport const object = {\n  noUnknown:\n    '${path}-Feld darf keine Schlüssel verwenden, die nicht im \"Objekt-Shape\" definiert wurden',\n};\n\nexport const array = {\n  min: '${path}-Feld muss mindesten ${min} Einträge haben',\n  max: '${path}-Feld darf höchstens ${max} Einträge haben',\n};\n\nconst index = {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean,\n};\n\nexport default index;\n","import PropTypes from 'prop-types';\nimport { TextField } from '@material-ui/core';\n\nfunction Input({ name, label, noComplete, formik, ...rest }) {\n  const isPassword = name === 'password' || name === 'repeat_password';\n  const type = isPassword ? 'password' : 'text';\n  const complete =\n    noComplete === true\n      ? {\n          autoComplete: 'new-password',\n        }\n      : {};\n\n  return (\n    <TextField\n      id={name}\n      name={name}\n      label={label}\n      type={type}\n      value={formik.values[name]}\n      onChange={formik.handleChange}\n      error={formik.touched[name] && !!formik.errors[name]}\n      helperText={formik.touched[name] && formik.errors[name]}\n      inputProps={complete}\n      {...rest}\n    />\n  );\n}\n\nInput.propTypes = {\n  name: PropTypes.string,\n  label: PropTypes.string,\n  autoComplete: PropTypes.bool,\n  formik: PropTypes.object,\n};\n\nexport default Input;\n","import { Link, navigate } from '@reach/router';\nimport { useMutation } from 'react-query';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Box, Grid, Button, Paper } from '@material-ui/core';\n\nimport useStyles from '../styles/views/LoginStyles';\nimport useToastContext from '../context/ToastContext';\nimport { postData } from '../util/fetchData';\nimport yupLocale from '../validations/locale';\nimport Input from '../components/Input';\n\nYup.setLocale(yupLocale);\n\nfunction Login() {\n  const classes = useStyles();\n  const { addError } = useToastContext();\n\n  const mutation = useMutation((values) => postData('/api/session', values), {\n    onError: (error) => {\n      addError(error);\n    },\n    onSuccess: (data) => {\n      navigate('/', { replace: true });\n    },\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: '',\n    },\n\n    validationSchema: Yup.object({\n      username: Yup.string().trim().lowercase().required('Benutzer eingeben'),\n      password: Yup.string().trim().lowercase().required('Passwort eingeben'),\n    }),\n\n    onSubmit: (values, { setSubmitting }) => {\n      mutation.mutate(values);\n      setSubmitting(false);\n    },\n  });\n\n  return (\n    <Box m={2} px={3} py={6} clone>\n      <Paper>\n        <form onSubmit={formik.handleSubmit}>\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            spacing={2}\n          >\n            <Grid item>\n              <Input\n                name=\"username\"\n                label=\"Benutzer\"\n                formik={formik}\n                variant=\"outlined\"\n                className={classes.loginInput}\n              />\n            </Grid>\n            <Grid item>\n              <Input\n                name=\"password\"\n                label=\"Passwort\"\n                formik={formik}\n                variant=\"outlined\"\n                className={classes.loginInput}\n              />\n            </Grid>\n            <Grid className={classes.actionBox} item>\n              <Box\n                display=\"flex\"\n                flexDirection=\"row\"\n                justifyContent=\"space-between\"\n                alignItems=\"center\"\n                mt={3}\n              >\n                <Link to=\"/sign-up\">Account erstellen</Link>\n                <Button\n                  type=\"submit\"\n                  disabled={mutation.isLoading}\n                  color=\"primary\"\n                >\n                  Anmelden\n                </Button>\n              </Box>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Box>\n  );\n}\n\nexport default Login;\n","import { navigate } from '@reach/router';\nimport { useMutation } from 'react-query';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Box, Grid, Button, Paper } from '@material-ui/core';\n\nimport useToastContext from '../context/ToastContext';\nimport { postData } from '../util/fetchData';\nimport yupLocale from '../validations/locale';\nimport Input from '../components/Input';\n\nYup.setLocale(yupLocale);\n\nfunction SignUp() {\n  const { addError } = useToastContext();\n\n  const mutation = useMutation(\n    (formValues) => postData('/api/users', formValues),\n    {\n      onError: (error) => {\n        addError(error);\n      },\n      onSuccess: (data) => {\n        navigate('/login');\n      },\n    }\n  );\n\n  const formik = useFormik({\n    initialValues: {\n      username: '', // todo session.isDead ? session.username : ''\n      password: '',\n      repeat_password: '',\n    },\n\n    validationSchema: Yup.object({\n      username: Yup.string().trim().lowercase().required('Benutzer eingeben'),\n      password: Yup.string().trim().lowercase().required('Passwort eingeben'),\n      repeat_password: Yup.string()\n        .trim()\n        .lowercase()\n        .required('Passwort eingeben'),\n    }),\n\n    onSubmit: (values, { setSubmitting }) => {\n      mutation.mutate(values);\n      setSubmitting(false);\n    },\n  });\n\n  return (\n    <Box m={2} px={8} py={6} clone>\n      <Paper>\n        <form onSubmit={formik.handleSubmit} noValidate>\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            spacing={2}\n          >\n            <Grid item>\n              <Input\n                name=\"username\"\n                label=\"Benutzer\"\n                formik={formik}\n                noComplete={true}\n              />\n            </Grid>\n            <Grid item>\n              <Input\n                name=\"password\"\n                label=\"Passwort\"\n                formik={formik}\n                noComplete={true}\n              />\n            </Grid>\n            <Grid item>\n              <Input\n                name=\"repeat_password\"\n                label=\"Passwort wiederholen\"\n                formik={formik}\n                noComplete={true}\n              />\n            </Grid>\n            <Grid item>\n              <Box float=\"right\" mt={3}>\n                <Button\n                  type=\"submit\"\n                  disabled={mutation.isLoading}\n                  color=\"primary\"\n                >\n                  Anmelden\n                </Button>\n              </Box>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Box>\n  );\n}\n\nexport default SignUp;\n","import { useState, useEffect } from 'react';\nimport { Router } from '@reach/router';\nimport { Box } from '@material-ui/core';\nimport useStyles from '../styles/components/AppStyles';\nimport { ToastContextProvider } from '../context/ToastContext';\nimport NavBar from './NavBar';\nimport AuthWrapper from './AuthWrapper';\nimport Toast from './Toast';\nimport NotFound from '../routes/NotFound';\nimport Home from '../routes/Home';\nimport Admin from '../routes/Admin';\nimport Login from '../routes/Login';\nimport SignUp from '../routes/SignUp';\n\nfunction App() {\n  const classes = useStyles();\n  const [mobile, setMobile] = useState(false);\n\n  useEffect(() => {\n    const setResponsiveness = () => {\n      return window.innerWidth < 1024 ? setMobile(true) : setMobile(false);\n    };\n    setResponsiveness();\n    window.addEventListener('resize', () => setResponsiveness());\n  });\n  // }, []);\n\n  return (\n    <ToastContextProvider>\n      <Box className={classes.root}>\n        <NavBar mobile={mobile} />\n        <Toast mobile={mobile} />\n        <Router>\n          <AuthWrapper path=\"/\">\n            <Home path=\"/\" />\n            <NotFound default />\n          </AuthWrapper>\n          <AuthWrapper path=\"admin\">\n            <Admin path=\"/\" />\n          </AuthWrapper>\n          <Login path=\"login\" />\n          <SignUp path=\"sign-up\" />\n        </Router>\n      </Box>\n    </ToastContextProvider>\n  );\n}\n\nexport default App;\n\n// innerhalb authwrapper kommt <Account /> oder so, verlinkt über navbar\n// der hat keine access beschränkung\n// deshalb kriegt status null nur die seite settings wenn eingeloggt\n","import ReactDOM from 'react-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport ThemeProvider from '@material-ui/styles/ThemeProvider';\nimport theme from './styles/theme';\nimport App from './components/App';\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={queryClient}>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </QueryClientProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}